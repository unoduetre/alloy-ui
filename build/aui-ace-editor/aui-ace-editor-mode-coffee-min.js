AUI.add("aui-ace-editor-mode-coffee",function(a){define("ace/mode/coffee",["require","exports","module","ace/tokenizer","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/text","ace/worker/worker_client","pilot/oop"],function(v,u,t){function l(){this.$tokenizer=new s((new r).getRules()),this.$outdent=new q;}var s=v("ace/tokenizer").Tokenizer,r=v("ace/mode/coffee_highlight_rules").CoffeeHighlightRules,q=v("ace/mode/matching_brace_outdent").MatchingBraceOutdent,p=v("ace/range").Range,o=v("ace/mode/text").Mode,n=v("ace/worker/worker_client").WorkerClient,m=v("pilot/oop");m.inherits(l,o),function(){var f=/(?:[({[=:]|[-=]>|\b(?:else|switch|try|catch(?:\s*[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$/,e=/^(\s*)#/,h=/^\s*###(?!#)/,g=/^\s*/;this.getNextLineIndent=function(i,x,w){var k=this.$getIndent(x),j=this.$tokenizer.getLineTokens(x,i).tokens;(!j.length||j[j.length-1].type!=="comment")&&i==="start"&&f.test(x)&&(k+=w);return k;},this.toggleCommentLines=function(b,z,y,x){console.log("toggle");var w=new p(0,0,0,0);for(var d=y;d<=x;++d){var c=z.getLine(d);if(h.test(c)){continue;}e.test(c)?c=c.replace(e,"$1"):c=c.replace(g,"$&#"),w.end.row=w.start.row=d,w.end.column=c.length+1,z.replace(w,c);}},this.checkOutdent=function(i,d,j){return this.$outdent.checkOutdent(d,j);},this.autoOutdent=function(i,d,j){this.$outdent.autoOutdent(d,j);},this.createWorker=function(i){var d=i.getDocument(),j=new n(["ace","pilot"],"worker-coffee.js","ace/mode/coffee_worker","Worker");j.call("setValue",[d.getValue()]),d.on("change",function(b){b.range={start:b.data.range.start,end:b.data.range.end},j.emit("change",b);}),j.on("error",function(c){i.setAnnotations([c.data]);}),j.on("ok",function(c){i.clearAnnotations();});};}.call(l.prototype),u.Mode=l;}),define("ace/mode/coffee_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(f,e,h){function g(){var i="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",d="(?![$\\w]|\\s*:)",j={token:"string",merge:!0,regex:".+"};this.$rules={start:[{token:"identifier",regex:"(?:@|(?:\\.|::)\\s*)"+i},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof)|s(?:uper|witch)|return|b(?:reak|y)|c(?:ontinue|atch|lass)|i(?:n(?:stanceof)?|s(?:nt)?|f)|e(?:lse|xtends)|f(?:or (?:own)?|inally|unction)|wh(?:ile|en)|n(?:ew|ot?)|d(?:e(?:lete|bugger)|o)|loop|o(?:ff?|[rn])|un(?:less|til)|and|yes)"+d},{token:"constant.language",regex:"(?:true|false|null|undefined)"+d},{token:"invalid.illegal",regex:"(?:c(?:ase|onst)|default|function|v(?:ar|oid)|with|e(?:num|xport)|i(?:mplements|nterface)|let|p(?:ackage|r(?:ivate|otected)|ublic)|static|yield|__(?:hasProp|extends|slice|bind|indexOf))"+d},{token:"language.support.class",regex:"(?:Array|Boolean|Date|Function|Number|Object|R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|TypeError|URIError)"+d},{token:"language.support.function",regex:"(?:Math|JSON|is(?:NaN|Finite)|parse(?:Int|Float)|encodeURI(?:Component)?|decodeURI(?:Component)?)"+d},{token:"identifier",regex:i},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{token:"string",merge:!0,regex:"'''",next:"qdoc"},{token:"string",merge:!0,regex:'"""',next:"qqdoc"},{token:"string",merge:!0,regex:"'",next:"qstring"},{token:"string",merge:!0,regex:'"',next:"qqstring"},{token:"string",merge:!0,regex:"`",next:"js"},{token:"string.regex",merge:!0,regex:"///",next:"heregex"},{token:"string.regex",regex:"/(?!\\s)[^[/\\n\\\\]*(?: (?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[/\\n\\\\]*)*/[imgy]{0,4}(?!\\w)"},{token:"comment",merge:!0,regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[\\]})]"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],qdoc:[{token:"string",regex:".*?'''",next:"start"},j],qqdoc:[{token:"string",regex:'.*?"""',next:"start"},j],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"start"},j],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"start"},j],js:[{token:"string",merge:!0,regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"start"},j],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",merge:!0,regex:"\\S+"}],comment:[{token:"comment",regex:".*?###",next:"start"},{token:"comment",merge:!0,regex:".+"}]};}f("pilot/oop").inherits(g,f("ace/mode/text_highlight_rules").TextHighlightRules),e.CoffeeHighlightRules=g;}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(g,f,j){var i=g("ace/range").Range,h=function(){};(function(){this.checkOutdent=function(d,c){return/^\s+$/.test(d)?/^\s*\}/.test(c):!1;},this.autoOutdent=function(k,d){var p=k.getLine(d),o=p.match(/^(\s*\})/);if(!o){return 0;}var n=o[1].length,m=k.findMatchingBracket({row:d,column:n});if(!m||m.row==d){return 0;}var l=this.$getIndent(k.getLine(m.row));k.replace(new i(d,0,d,n-1),l);},this.$getIndent=function(d){var c=d.match(/^(\s+)/);return c?c[1]:"";};}).call(h.prototype),f.MatchingBraceOutdent=h;}),define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(h,g,l){var k=h("pilot/oop"),j=h("pilot/event_emitter").EventEmitter,i=function(y,x,w,v){this.callbacks=[];if(h.packaged){var u=this.$guessBasePath(),t=this.$worker=new Worker(u+x);}else{var s=this.$normalizePath(h.nameToUrl("ace/worker/worker",null,"_")),t=this.$worker=new Worker(s),r={};for(var q=0;q<y.length;q++){var p=y[q],o=this.$normalizePath(h.nameToUrl(p,null,"_").replace(/.js$/,""));r[p]=o;}}this.$worker.postMessage({init:!0,tlns:r,module:w,classname:v}),this.callbackId=1,this.callbacks={};var n=this;this.$worker.onerror=function(b){window.console&&console.log&&console.log(b);throw b;},this.$worker.onmessage=function(e){var d=e.data;switch(d.type){case"log":window.console&&console.log&&console.log(d.data);break;case"event":n._dispatchEvent(d.name,{data:d.data});
break;case"call":var f=n.callbacks[d.id];f&&(f(d.data),delete n.callbacks[d.id]);}};};(function(){k.implement(this,j),this.$normalizePath=function(b){b.match(/^\w+:/)||(b=location.protocol+"//"+location.host+location.pathname.replace(/\/.*?$/,"")+"/"+b.replace(/^\//,""));return b;},this.$guessBasePath=function(){if(h.aceBaseUrl){return h.aceBaseUrl;}var m=document.getElementsByTagName("script");for(var r=0;r<m.length;r++){var q=m[r],p=q.getAttribute("data-ace-base");if(p){return p.replace(/\/*$/,"/");}var o=q.src||q.getAttribute("src");if(!o){continue;}var n=o.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/);if(n){return n[1]||n[2];}}return"";},this.terminate=function(){this._dispatchEvent("terminate",{}),this.$worker.terminate();},this.send=function(d,c){this.$worker.postMessage({command:d,args:c});},this.call=function(f,e,n){if(n){var m=this.callbackId++;this.callbacks[m]=n,e.push(m);}this.send(f,e);},this.emit=function(d,c){this.$worker.postMessage({event:d,data:c});};}).call(i.prototype),g.WorkerClient=i;});},"@VERSION@",{skinnable:false,requires:["aui-ace-editor-base"]});